import{T as v,q as g,w as u,o as d,b as e,a as w,u as n,j as x,d as p,e as V,g as i,v as r,G as D,c,s as k,F as N,t as f}from"./app-BMtln1of.js";import{_ as T}from"./AppLayout-w6n3NBIr.js";import{h as U}from"./moment-C5S46NFB.js";import{s as b}from"./luha-m8E33gU6.js";const B={class:"navbar shadow-sm bg-body-tertiary"},M={class:"container-fluid"},P={class:"left-bar"},q={class:"navbar-brand mb-0 h1 py-0"},C={class:"container py-3"},E={class:"row g-3 mb-3"},S={class:"form-group col-6"},A={class:"form-group col-6"},j={class:"form-group mb-3"},F={class:"form-group mb-3"},I=["value"],$={class:"row g-3 mb-3"},G={class:"col-6"},L={class:"form-group"},O={class:"col-6"},z={class:"form-group mb-2"},H={class:"alert alert-success mt-3 text-center"},J={class:"fw-bold"},X={__name:"Edit",props:{paymentTypes:Array,sale:Object,balance:Number},setup(m){const a=m,o=v({id:a.sale.id,sale_id:a.sale.sale_id,invoice_no:a.sale.invoice_no,invoice_date:U(a.sale.invoice_date).format("DD-M-y"),contact_id:a.sale.contact_id,contact_name:a.sale.contact_name,payment_id:a.sale.payment_type_id,payment_date:a.sale.payment_date,amount:a.sale.amount}),y=()=>{if(o.amount>Number(a.balance)){b("Paid amount is exceed.");return}o.post(route("payments.store"),{onError:l=>{for(let t in l)b(l[t])}})},_=l=>{confirm("Do you want to delete?")&&o.delete(route("payments.destroy",l))};return(l,t)=>(d(),g(T,{title:"Create Payment"},{default:u(()=>[e("nav",B,[e("div",M,[e("div",P,[e("span",q,[w(n(x),{href:l.route("payments.index"),class:"btn btn-link"},{default:u(()=>t[7]||(t[7]=[e("i",{class:"bi bi-arrow-left"},null,-1)])),_:1},8,["href"]),t[8]||(t[8]=p("Modify Payment"))])])])]),e("div",C,[e("form",{onSubmit:V(y,["prevent"])},[e("div",E,[e("div",S,[t[9]||(t[9]=e("label",{for:"invoice_no",class:"form-label"},"Invoice No",-1)),i(e("input",{id:"invoice_no",type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=s=>n(o).invoice_no=s),readonly:""},null,512),[[r,n(o).invoice_no]])]),e("div",A,[t[10]||(t[10]=e("label",{for:"invoice_date",class:"form-label"},"Invoice Date",-1)),i(e("input",{id:"invoice_date",type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=s=>n(o).invoice_date=s),readonly:""},null,512),[[r,n(o).invoice_date]])])]),e("div",j,[t[11]||(t[11]=e("label",{for:"contact",class:"form-label"},"Contact",-1)),i(e("input",{id:"contact",type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=s=>n(o).contact_name=s),readonly:""},null,512),[[r,n(o).contact_name]])]),e("div",F,[t[12]||(t[12]=e("label",{for:"payment",class:"form-label"},"Payment Types",-1)),i(e("select",{name:"payment",id:"payment",class:"form-select","onUpdate:modelValue":t[3]||(t[3]=s=>n(o).payment_id=s),required:""},[(d(!0),c(N,null,k(m.paymentTypes,s=>(d(),c("option",{value:s.id},f(s.name),9,I))),256))],512),[[D,n(o).payment_id]])]),e("div",$,[e("div",G,[e("div",L,[t[13]||(t[13]=e("label",{for:"payment_date",class:"form-label"},"Payment Date",-1)),i(e("input",{type:"date",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=s=>n(o).payment_date=s),required:""},null,512),[[r,n(o).payment_date]])])]),e("div",O,[e("div",z,[t[14]||(t[14]=e("label",{for:"amount",class:"form-label"},"Amount",-1)),i(e("input",{type:"number",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=s=>n(o).amount=s),required:""},null,512),[[r,n(o).amount]])])])]),t[15]||(t[15]=e("button",{class:"btn btn-primary w-100"},"Submit",-1)),e("button",{class:"btn btn-danger w-100 mt-3",onClick:t[6]||(t[6]=s=>_(n(o).id)),type:"button"},"Delete")],32),e("div",H,[t[16]||(t[16]=p(" Balance Amount: ")),e("span",J,"â‚¹"+f(a.balance),1)])])]),_:1}))}};export{X as default};
