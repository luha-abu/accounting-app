import{T as y,q as _,w as c,o as m,b as e,a as g,u as a,j as w,d as u,e as x,g as l,v as i,G as V,c as p,s as D,F as S,t as f}from"./app-BmX5tQBm.js";import{_ as T}from"./AppLayout-Ie_SHdCK.js";import{s as b}from"./luha-0Ml7VY30.js";import{h as k}from"./moment-C5S46NFB.js";const U={class:"navbar shadow-sm bg-body-tertiary"},B={class:"container-fluid"},C={class:"left-bar"},N={class:"navbar-brand mb-0 h1 py-0"},P={class:"container py-3"},q={class:"row g-3 mb-3"},M={class:"form-group col-6"},A={class:"form-group col-6"},I={class:"form-group mb-3"},j={class:"form-group mb-3"},E=["value"],F={class:"row g-3 mb-3"},O={class:"col-6"},G={class:"form-group"},L={class:"col-6"},$={class:"form-group mb-2"},z={class:"alert alert-success mt-4 text-center"},H={class:"fw-bold"},W={__name:"Create",props:{paymentTypes:Array,sale:Object,balance:String},setup(d){const n=d,o=y({sale_id:n.sale.sale_id,invoice_no:n.sale.invoice_no,invoice_date:k(n.sale.invoice_date).format("DD-M-y"),contact_id:n.sale.contact_id,contact_name:n.sale.contact_name,payment_id:n.paymentTypes[0].id,payment_date:new Date().toISOString().substring(0,10),amount:""}),v=()=>{if(o.amount>Number(n.balance)){b("Paid amount is exceed.");return}o.post(route("payments.store"),{onError:r=>{for(let t in r)b(r[t])}})};return(r,t)=>(m(),_(T,{title:"Create Payment"},{default:c(()=>[e("nav",U,[e("div",B,[e("div",C,[e("span",N,[g(a(w),{href:r.route("payments.details",{id:d.sale.contact_id}),class:"btn btn-link"},{default:c(()=>t[6]||(t[6]=[e("i",{class:"bi bi-arrow-left"},null,-1)])),_:1},8,["href"]),t[7]||(t[7]=u("Create Payment"))])])])]),e("div",P,[e("form",{onSubmit:x(v,["prevent"])},[e("div",q,[e("div",M,[t[8]||(t[8]=e("label",{for:"invoice_no",class:"form-label"},"Invoice No",-1)),l(e("input",{id:"invoice_no",type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=s=>a(o).invoice_no=s),readonly:""},null,512),[[i,a(o).invoice_no]])]),e("div",A,[t[9]||(t[9]=e("label",{for:"invoice_date",class:"form-label"},"Invoice Date",-1)),l(e("input",{id:"invoice_date",type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=s=>a(o).invoice_date=s),readonly:""},null,512),[[i,a(o).invoice_date]])])]),e("div",I,[t[10]||(t[10]=e("label",{for:"contact",class:"form-label"},"Contact",-1)),l(e("input",{id:"contact",type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=s=>a(o).contact_name=s),readonly:""},null,512),[[i,a(o).contact_name]])]),e("div",j,[t[11]||(t[11]=e("label",{for:"payment",class:"form-label"},"Payment Types",-1)),l(e("select",{name:"payment",id:"payment",class:"form-select","onUpdate:modelValue":t[3]||(t[3]=s=>a(o).payment_id=s),required:""},[(m(!0),p(S,null,D(d.paymentTypes,s=>(m(),p("option",{value:s.id},f(s.name),9,E))),256))],512),[[V,a(o).payment_id]])]),e("div",F,[e("div",O,[e("div",G,[t[12]||(t[12]=e("label",{for:"payment_date",class:"form-label"},"Payment Date",-1)),l(e("input",{type:"date",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=s=>a(o).payment_date=s),required:""},null,512),[[i,a(o).payment_date]])])]),e("div",L,[e("div",$,[t[13]||(t[13]=e("label",{for:"amount",class:"form-label"},"Amount",-1)),l(e("input",{type:"number",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=s=>a(o).amount=s),required:""},null,512),[[i,a(o).amount]])])])]),t[14]||(t[14]=e("button",{class:"btn btn-primary w-100"},"Submit",-1))],32),e("div",z,[t[15]||(t[15]=u(" Balance Amount: ")),e("span",H,"â‚¹"+f(n.balance),1)])])]),_:1}))}};export{W as default};
