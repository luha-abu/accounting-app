import{T as _,q as w,w as u,o as d,b as o,a as g,u as s,j as x,d as c,e as T,g as i,v as r,G as B,c as p,s as V,F as C,t as f}from"./app-DEG2fIWE.js";import{_ as D}from"./AppLayout-XjNkS1Zv.js";import{h as E}from"./moment-C5S46NFB.js";import{s as b}from"./luha-BYdl1bA2.js";import{S as k}from"./sweetalert2-z6gKu1nJ.js";const U={class:"navbar shadow-sm bg-body-tertiary"},N={class:"container-fluid"},P={class:"left-bar"},A={class:"navbar-brand mb-0 h1 py-0"},M={class:"container py-3"},S={class:"row g-3 mb-3"},q={class:"form-group col-6"},j={class:"form-group col-6"},F={class:"form-group mb-3"},I={class:"form-group mb-3"},L=["value"],$={class:"row g-3 mb-3"},G={class:"col-6"},O={class:"form-group"},Y={class:"col-6"},z={class:"form-group mb-2"},H={class:"alert alert-success mt-3 text-center"},J={class:"fw-bold"},Z={__name:"Edit",props:{paymentTypes:Array,sale:Object,balance:Number},setup(m){const a=m,e=_({id:a.sale.id,sale_id:a.sale.sale_id,invoice_no:a.sale.invoice_no,invoice_date:E(a.sale.invoice_date).format("DD-M-y"),contact_id:a.sale.contact_id,contact_name:a.sale.contact_name,payment_id:a.sale.payment_type_id,payment_date:a.sale.payment_date,amount:a.sale.amount}),y=()=>{if(e.amount>Number(a.balance)){b("Paid amount is exceed.");return}e.put(route("payments.update",a.sale.id),{onError:l=>{for(let t in l)b(l[t])}})},v=l=>{k.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&e.delete(route("payments.destroy",l))})};return(l,t)=>(d(),w(D,{title:"Create Payment"},{default:u(()=>[o("nav",U,[o("div",N,[o("div",P,[o("span",A,[g(s(x),{href:l.route("payments.index"),class:"btn btn-link"},{default:u(()=>t[7]||(t[7]=[o("i",{class:"bi bi-chevron-left"},null,-1)])),_:1},8,["href"]),t[8]||(t[8]=c("Modify Payment"))])])])]),o("div",M,[o("form",{onSubmit:T(y,["prevent"])},[o("div",S,[o("div",q,[t[9]||(t[9]=o("label",{for:"invoice_no",class:"form-label"},"Invoice No",-1)),i(o("input",{id:"invoice_no",type:"text",class:"form-control fw-bold","onUpdate:modelValue":t[0]||(t[0]=n=>s(e).invoice_no=n),readonly:""},null,512),[[r,s(e).invoice_no]])]),o("div",j,[t[10]||(t[10]=o("label",{for:"invoice_date",class:"form-label"},"Invoice Date",-1)),i(o("input",{id:"invoice_date",type:"text",class:"form-control fw-bold","onUpdate:modelValue":t[1]||(t[1]=n=>s(e).invoice_date=n),readonly:""},null,512),[[r,s(e).invoice_date]])])]),o("div",F,[t[11]||(t[11]=o("label",{for:"contact",class:"form-label"},"Contact",-1)),i(o("input",{id:"contact",type:"text",class:"form-control fw-bold","onUpdate:modelValue":t[2]||(t[2]=n=>s(e).contact_name=n),readonly:""},null,512),[[r,s(e).contact_name]])]),o("div",I,[t[12]||(t[12]=o("label",{for:"payment",class:"form-label"},"Payment Types",-1)),i(o("select",{name:"payment",id:"payment",class:"form-select fw-bold","onUpdate:modelValue":t[3]||(t[3]=n=>s(e).payment_id=n),required:""},[(d(!0),p(C,null,V(m.paymentTypes,n=>(d(),p("option",{value:n.id},f(n.name),9,L))),256))],512),[[B,s(e).payment_id]])]),o("div",$,[o("div",G,[o("div",O,[t[13]||(t[13]=o("label",{for:"payment_date",class:"form-label"},"Payment Date",-1)),i(o("input",{type:"date",class:"form-control fw-bold","onUpdate:modelValue":t[4]||(t[4]=n=>s(e).payment_date=n),required:""},null,512),[[r,s(e).payment_date]])])]),o("div",Y,[o("div",z,[t[14]||(t[14]=o("label",{for:"amount",class:"form-label"},"Amount",-1)),i(o("input",{type:"number",class:"form-control fw-bold","onUpdate:modelValue":t[5]||(t[5]=n=>s(e).amount=n),required:""},null,512),[[r,s(e).amount]])])])]),t[15]||(t[15]=o("button",{class:"btn btn-primary w-100 fw-bold"},"UPDATE",-1)),o("button",{class:"btn btn-danger w-100 mt-3 fw-bold",onClick:t[6]||(t[6]=n=>v(s(e).id)),type:"button"},"DELETE")],32),o("div",H,[t[16]||(t[16]=c(" Balance Amount: ")),o("span",J,"â‚¹"+f(a.balance),1)])])]),_:1}))}};export{Z as default};
