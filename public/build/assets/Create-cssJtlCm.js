import{T as _,q as w,w as c,o as m,b as o,a as g,u as a,j as x,d as u,e as V,g as l,v as i,G as D,c as p,s as T,F as k,t as f}from"./app-DEG2fIWE.js";import{_ as C}from"./AppLayout-XjNkS1Zv.js";import{h as b}from"./moment-C5S46NFB.js";import{s as v}from"./luha-BYdl1bA2.js";const U={class:"navbar shadow-sm bg-body-tertiary"},B={class:"container-fluid"},M={class:"left-bar"},N={class:"navbar-brand mb-0 h1 py-0"},P={class:"container py-3"},q={class:"row g-3 mb-3"},A={class:"form-group col-6"},E={class:"form-group col-6"},S={class:"form-group mb-3"},j={class:"form-group mb-3"},F=["value"],I={class:"row g-3 mb-3"},G={class:"col-6"},L={class:"form-group"},O={class:"col-6"},R={class:"form-group mb-2"},$={class:"alert alert-success mt-4 text-center"},z={class:"fw-bold"},W={__name:"Create",props:{paymentTypes:Array,sale:Object,balance:String},setup(d){const n=d,e=_({sale_id:n.sale.sale_id,invoice_no:n.sale.invoice_no,invoice_date:b(n.sale.invoice_date).format("DD-M-y"),contact_id:n.sale.contact_id,contact_name:n.sale.contact_name,payment_id:n.paymentTypes[0].id,payment_date:b().format("y-M-DD"),amount:""}),y=()=>{if(e.amount>Number(n.balance)){v("Paid amount is exceed.");return}e.post(route("payments.store"),{onError:r=>{for(let t in r)v(r[t])}})};return(r,t)=>(m(),w(C,{title:"Create Payment"},{default:c(()=>[o("nav",U,[o("div",B,[o("div",M,[o("span",N,[g(a(x),{href:r.route("payments.details",{id:d.sale.contact_id}),class:"btn btn-link"},{default:c(()=>t[6]||(t[6]=[o("i",{class:"bi bi-chevron-left"},null,-1)])),_:1},8,["href"]),t[7]||(t[7]=u("Create Payment"))])])])]),o("div",P,[o("form",{onSubmit:V(y,["prevent"])},[o("div",q,[o("div",A,[t[8]||(t[8]=o("label",{for:"invoice_no",class:"form-label"},"Invoice No",-1)),l(o("input",{id:"invoice_no",type:"text",class:"form-control fw-bold","onUpdate:modelValue":t[0]||(t[0]=s=>a(e).invoice_no=s),readonly:""},null,512),[[i,a(e).invoice_no]])]),o("div",E,[t[9]||(t[9]=o("label",{for:"invoice_date",class:"form-label"},"Invoice Date",-1)),l(o("input",{id:"invoice_date",type:"text",class:"form-control fw-bold","onUpdate:modelValue":t[1]||(t[1]=s=>a(e).invoice_date=s),readonly:""},null,512),[[i,a(e).invoice_date]])])]),o("div",S,[t[10]||(t[10]=o("label",{for:"contact",class:"form-label"},"Contact",-1)),l(o("input",{id:"contact",type:"text",class:"form-control fw-bold","onUpdate:modelValue":t[2]||(t[2]=s=>a(e).contact_name=s),readonly:""},null,512),[[i,a(e).contact_name]])]),o("div",j,[t[11]||(t[11]=o("label",{for:"payment",class:"form-label"},"Payment Types",-1)),l(o("select",{name:"payment",id:"payment",class:"form-select fw-bold","onUpdate:modelValue":t[3]||(t[3]=s=>a(e).payment_id=s),required:""},[(m(!0),p(k,null,T(d.paymentTypes,s=>(m(),p("option",{value:s.id},f(s.name),9,F))),256))],512),[[D,a(e).payment_id]])]),o("div",I,[o("div",G,[o("div",L,[t[12]||(t[12]=o("label",{for:"payment_date",class:"form-label"},"Payment Date",-1)),l(o("input",{type:"date",class:"form-control fw-bold","onUpdate:modelValue":t[4]||(t[4]=s=>a(e).payment_date=s),required:""},null,512),[[i,a(e).payment_date]])])]),o("div",O,[o("div",R,[t[13]||(t[13]=o("label",{for:"amount",class:"form-label"},"Amount",-1)),l(o("input",{type:"number",class:"form-control fw-bold","onUpdate:modelValue":t[5]||(t[5]=s=>a(e).amount=s),required:""},null,512),[[i,a(e).amount]])])])]),t[14]||(t[14]=o("button",{class:"btn btn-primary w-100 fw-bold"},"CREATE",-1))],32),o("div",$,[t[15]||(t[15]=u(" Balance Amount: ")),o("span",z,"â‚¹"+f(n.balance),1)])])]),_:1}))}};export{W as default};
